var uoptoc=function(){"use strict";var a=function(a,b){var c,d;if(""===b.id){for(c=b.querySelector("h1"),d=c?c.innerHTML:b.innerHTML,d=d.substring(0,40).replace(/[^a-z]+/gi,"").toLowerCase(),d=d.substring(0,20);a.getElementById(d);)d+="_";b.id=d}},b=function(c,d,e){var f,g,h,i,j;if(e&&d.children)for(h=c.createElement("ul"),e.appendChild(h),f=0;f<d.children.length;++f)a(c,d.children[f]),"section"===d.children[f].nodeName.toLowerCase()&&(j=c.createElement("a"),g=d.children[f].querySelectorAll("h1"),g[0]&&(j.innerHTML=g[0].innerHTML,j.href="#"+d.children[f].id,i=c.createElement("li"),i.appendChild(j),h.appendChild(i),b(c,d.children[f],i)));return e},c=function(a,c){if(c){console.log("starting gen");var d=a.createElement("nav");return console.log("created nav",d),d.setAttribute("class","toc"),console.log("set class of ",d),b(a,c,d)}throw"startNode not defined"},d=function(a,b,d){console.log("starting genpop");var e=c(a,b);if(d)return d.appendChild(e),e;throw"destNode not defined"},e=function(a,b,c){return console.log("starting genpopselector"),d(a,a.querySelector(b),a.querySelector(c))};return{gen:c,genPop:d,genPopSelector:e}}();module.exports=uoptoc;